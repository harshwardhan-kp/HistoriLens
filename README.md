<div align="center">

<img src="https://skillicons.dev/icons?i=flutter,dart,supabase" height="48" />
&nbsp;&nbsp;
<img src="https://img.shields.io/badge/Groq%20AI-FF6C37?style=for-the-badge&logo=lightning&logoColor=white" height="28"/>

<br/><br/>

# HistoriLens ğŸŒ

**See history the way they did â€” not just the way you were taught.**

Every historical event has more than one side. HistoriLens uses AI to surface perspectives from different countries, religions, schools of thought, and cultures â€” all at once, all in one place.

[![Flutter](https://img.shields.io/badge/Flutter-02569B?style=flat-square&logo=flutter&logoColor=white)](https://flutter.dev)
[![Dart](https://img.shields.io/badge/Dart-0175C2?style=flat-square&logo=dart&logoColor=white)](https://dart.dev)
[![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=flat-square&logo=supabase&logoColor=white)](https://supabase.com)
[![Vercel](https://img.shields.io/badge/Vercel-000000?style=flat-square&logo=vercel&logoColor=white)](https://vercel.com)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square)](LICENSE)

</div>

---

## ğŸ“¹ Demo

> *(video coming soon â€” drop a screen recording here)*

&nbsp;

---

## What it actually does

You pick a historical event â€” say, *The French Revolution* â€” and instead of reading one textbook version, you get 3â€“8 perspectives generated by AI. British Empire's take. The Church's view. A Marxist reading. An Algerian perspective.

Then you can dig deeper: bookmark the ones that surprise you, ask follow-up questions in a chat, or share a card with a friend.

---

## Stack

| Layer | What |
|---|---|
| **Frontend** | Flutter (web + iOS + Android) |
| **Auth + DB** | Supabase (Auth, Postgres, RLS) |
| **AI** | Groq â€” LLaMA 3.3 70B + DeepSeek R1 70B |
| **Hosting** | Vercel |
| **Icons** | Phosphor Icons |

---

## Features

- ğŸŒ **Multi-perspective AI** â€” Country, Religion, School of Thought, Cultural lenses
- ğŸ’¬ **Deep Dive Chat** â€” Ask follow-up questions about any perspective (context-aware)
- ğŸ”– **Bookmarks** â€” Save perspectives you want to revisit, synced via Supabase
- ğŸ• **History Feed** â€” See what you've explored in the last 7 days
- ğŸ” **AI Search** â€” Type anything, get AI-suggested historical events instantly
- ğŸ“„ **Event Detail** â€” AI-generated overview, key players, significance, and fast facts per event
- ğŸ–¼ï¸ **Share Cards** â€” Export a perspective as an image and share it
- ğŸŒ™ **Dark Mode** â€” Persisted across restarts
- ğŸ›« **Onboarding** â€” Smooth 3-slide intro for new users
- ğŸ’° **Pricing tiers** â€” Explorer (Free) / Historian / Scholar â€” pricing screen ready for payment integration

---

## Running locally

```bash
# 1. Clone
git clone https://github.com/harshwardhan-kp/HistoriLens.git
cd HistoriLens

# 2. Install deps
flutter pub get

# 3. Set up environment
cp .env.example .env
# fill in your keys (see below)

# 4. Run
flutter run
```

### `.env` format

```env
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
GROQ_API_KEY=your-groq-key
```

Get your keys:
- [Supabase dashboard](https://app.supabase.com) â†’ Project Settings â†’ API
- [Groq console](https://console.groq.com) â†’ API Keys

### Supabase tables

Run this once in your Supabase SQL editor:

```sql
-- Bookmarks
create table public.bookmarks (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users(id) on delete cascade,
  event_title text, event_subtitle text, event_emoji text,
  perspective_label text, perspective_title text,
  perspective_content text, perspective_emoji text, perspective_type text,
  created_at timestamptz default now()
);
alter table public.bookmarks enable row level security;
create policy "own bookmarks" on public.bookmarks for all using (auth.uid() = user_id);

-- History
create table public.history (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users(id) on delete cascade,
  event_title text, event_subtitle text, event_emoji text,
  explored_at timestamptz default now()
);
alter table public.history enable row level security;
create policy "own history" on public.history for all using (auth.uid() = user_id);
```

---

## Deploying to Vercel

The repo includes a `vercel.json`. Just add these environment variables in your Vercel project settings and deploy:

```
SUPABASE_URL
SUPABASE_ANON_KEY
GROQ_API_KEY
```

The build automatically generates `.env` from those values â€” no secrets committed.

---

## Project structure

```
lib/
â”œâ”€â”€ core/          # Theme, router, constants
â”œâ”€â”€ models/        # Data models
â”œâ”€â”€ providers/     # State management (Provider)
â”œâ”€â”€ services/      # Groq, Supabase auth, bookmarks, history
â””â”€â”€ screens/
    â”œâ”€â”€ splash/
    â”œâ”€â”€ onboarding/
    â”œâ”€â”€ auth/
    â”œâ”€â”€ home/
    â”œâ”€â”€ event_detail/
    â”œâ”€â”€ perspectives/   # + deep_dive_sheet.dart
    â”œâ”€â”€ saved/
    â””â”€â”€ pricing/
```

---

<div align="center">

Built with curiosity. History has more sides than you think.

</div>
